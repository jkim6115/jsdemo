<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #popup {
        width: 301px;
        height: 351px;
        border: 1px solid black;
        position: fixed;
        left: 30%;
        top: 100px;
      }
    </style>
  </head>
  <body>
    <div>
      <p>
        이름이 같은 변수 x가 중복 선언되었다. 전역에서 변수 x를 참조할 때,
        그리고 함수 foo 내부에서 변수 x를 참조할 때 이름이 중복된 2개의 변수 중
        어떤 변수를 참조해야 하는가? 자바스크립트는 어떻게 변수를 식별하는
        것일까? 스코프는 참조 대상 식별자(identifier, 변수, 함수의 이름과 같이
        어떤 대상을 다른 대상과 구분하여 식별할 수 있는 유일한 이름)를 찾아내기
        위한 규칙이다. 자바스크립트는 이 규칙대로 식별자를 찾는다. 프로그래밍은
        변수를 선언하고 값을 할당하며 변수를 참조하는 기본적인 기능을 제공하며
        이것으로 프로그램의 상태를 관리할 수 있다. 변수는 전역 또는 코드
        블록(if, for, while, try/catch 등)이나 함수 내에 선언하며 코드 블록이나
        함수는 중첩될 수 있다. 식별자는 자신이 어디에서 선언됐는지에 의해 자신이
        유효한(다른 코드가 자신을 참조할 수 있는) 범위를 갖는다. 위 예제에서
        전역에 선언된 변수 x는 어디에든 참조할 수 있다. 하지만 함수 foo 내에서
        선언된 변수 x는 함수 foo 내부에서만 참조할 수 있고 함수 외부에서는
        참조할 수 없다. 이러한 규칙을 스코프라고 한다. 만약 스코프가 없다면
        어떻게 될까? 스코프가 없다면 같은 식별자 이름은 충돌을 일으키므로
        프로그램 전체에서 하나밖에 사용할 수 없다. 디렉터리가 없는 컴퓨터를
        생각해보자. 디렉터리가 없다면 같은 이름을 갖는 파일을 하나밖에 만들 수
        없다. 스코프도 이와 같이 식별자 이름의 충돌을 방지한다.
      </p>
      <div id="popup">
        <img src="./images/popup.jpg" usemap="#pop" />
      </div>
      <map name="pop" id="pop">
        <!--coords='x start, y start, x end, y end'-->
        <area shape="rect" coords="255,332,290,345" href="#" alt="창닫기" />
      </map>
    </div>

    <script>
      let close = document.querySelector("map#pop area");
      close.onclick = () => {
        let popup = document.querySelector("div#popup");
        popup.style.width = "0px";
        popup.style.height = "0px";
        popup.style.visibility = "hidden";
      };
    </script>
  </body>
</html>
